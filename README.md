# Торговая сеть электроники
Веб-приложение с API-интерфейсом и админ-панелью. Реализует
модель сети по продаже электроники, представляющую собой иерархическую
структуру из звеньев цепи трех типов: завод, розничная сеть, 
индивидуальный предприниматель. Каждое звено имеет свои ограничения и
определяет свой уровень в цепи на основе уровня поставщика. 
Настроена админ-панель с фильтрацией объектов звена цепи по стране и городу
связанной модели контактов, а также admin action для очистки поля
задолженности перед поставщиком.

## Стек технологий
- Python 3.12
- Django 5.2.1
- DRF 3.16
- PostgreSQL 17.4
- JWTAuth
- Gunicorn
- CORS
- OpenAPI
- Docker

## Установка
**Клонирование репозитория на локальный репозиторий:**
1. Чтобы клонировать репозиторий с GitHub себе на компьютер, необходимо
получить ссылку на доступ к репозиторию в разделе **Code** на странице
репозитория, выбрать способ взаимодействия с GitHub (**HTTPS**) и **скопировать**
ссылку на репозиторий для клонирования.
2. В главном меню **PyCharm** перейдите в меню **Get from VCS**. 
3. Вставьте ссылку на репозиторий и нажмите на кнопку **Clone**.
4. По окончании клонирования будет открыт проект, вы можете работать с этим проектом.

Или выполните команду ```git clone <ссылка_на_репозиторий>``` 

**Заполните переменные окружения** по образцу в `.env.simple`.

## Ручной запуск
**Установка зависимостей:** ```poetry install```

**Создайте базу данных и выполните миграции:** ```python manage.py migrate```

**Запустите сервер:** ```python manage.py runserver``` или ```gunicorn config.wsgi:application --bind 0.0.0.0:8000```

## Запуск с помощью Docker
**Запустите Docker** удобным способом.

**Выполните команду:** ```docker-compose up -d --build```

## Использование
**После установки и запуска приложения**, вы можете делать запросы по доступным эндпоинтам:
- при ручном запуске по адресу ```http://localhost:8000```
- при запуске в контейнере по адресу ```http://localhost```

Более подробно с доступными эндпоинтами можно ознакомиться в
документации.

## Тестирование

Для запуска тестов в проекте при ручном запуске выполните команду 
```python manage.py test```.

Для запуска тестов в контейнере при запуске с помощью Docker выполните команду: 
```docker-compose exec web poetry run python manage.py test```.

## Документация
После установки и запуска приложения документация будет доступна по следующим адресам:

1. **При ручном запуске приложения:**
- http://localhost:8000/docs/
- http://localhost:8000/docs/redoc/

2. **При запуске в контейнере:**
- http://localhost/docs/
- http://localhost/docs/redoc/

Эндпоинты с документацией доступны всем неавторизованным пользователям.
